!function(s,e){var l,t,n,o,i="longPress",r=(e.document,{}),u={A:"ĀĂÀÁÂÃÄÅĄⱭ∀Æ",B:"Ɓ",C:"ÇĆĈĊČƆ",D:"ÐĎĐḎƊ",E:"ÈÉÊËĒĖĘẸĚƏÆƎƐ€",F:"ƑƩ",G:"ĜĞĠĢƢ",H:"ĤĦ",I:"ÌÍÎÏĪĮỊİIƗĲ",J:"ĴĲ",K:"ĶƘ",L:"ĹĻĽŁΛ",N:"ÑŃŅŇŊƝ₦",O:"ÒÓÔÕÖŌØŐŒƠƟ",P:"Ƥ¶",R:"ŔŘɌⱤ",S:"ßſŚŜŞṢŠÞ§",T:"ŢŤṮƬƮ",U:"ÙÚÛÜŪŬŮŰŲɄƯƱ",V:"Ʋ",W:"ŴẄΩ",Y:"ÝŶŸƔƳ",Z:"ŹŻŽƵƷẔ",a:"āăàáâãäåąɑæαª",b:"ßβɓ",c:"çςćĉċč¢ɔ",d:"ðďđɖḏɖɗ",e:"èéêëēėęẹěəæεɛ€",f:"ƒʃƭ",g:"ĝğġģɠƣ",h:"ĥħɦẖ",i:"ìíîïīįịiiɨĳι",j:"ĵɟĳ",k:"ķƙ",l:"ĺļľłλ",n:"ñńņňŋɲ",o:"òóôõöōøőœơɵ°",p:"ƥ¶",r:"ŕřɍɽ",s:"ßſśŝşṣšþ§",t:"ţťṯƭʈ",u:"ùúûüūŭůűųưμυʉʊ",v:"ʋ",w:"ŵẅω",y:"ýŷÿɣyƴ",z:"źżžƶẕʒƹ",$:"£¥€₩₨₳Ƀ¤","!":"¡‼‽","?":"¿‽","%":"‰",".":"…••","-":"±‐–—","+":"±†‡","'":"′″‴‘’‚‛",'"':"“”„‟","<":"≤‹",">":"≥›","=":"≈≠≡"},c=[8,13,37,38,39,40],h=s("<ul class=long-press-popup />");function p(e){if(0<s(".long-press-popup").length&&(37==e.which||39==e.which))return 37==e.which?v():39==e.which&&g(),void e.preventDefault();if(!(-1<c.indexOf(e.which))){if(o=e.target,e.which==t)return e.preventDefault(),void(n=n||setTimeout(a,10));t=e.which}}function a(){var e=s(o).val().split("")[getCaretPosition(o)-1];u[e]?function(e){var t;h.empty();for(var n=0;n<e.length;n++)(t=s("<li class=long-press-letter />").text(e[n])).mouseenter(f),h.append(t);s("body").append(h),l=-1}(u[e]):w()}function f(e){m(s(e.target).index())}function d(e){m((s(".long-press-letter").length+l+e)%s(".long-press-letter").length)}function g(){d(1)}function v(){d(-1)}function w(){h.detach()}function m(e){var t,n,i;s(".long-press-letter.selected").removeClass("selected"),s(".long-press-letter").eq(e).addClass("selected"),l=e,t=s(".long-press-letter.selected").text(),n=getCaretPosition(o),(i=s(o).val().split(""))[n-1]=t,s(o).val(i.join("")),setCaretPosition(o,n)}function y(e,t){this.element=e,this.options=s.extend({},r,t),this._defaults=r,this._name=i,this.init()}s(e).mousewheel(function(e,t,n,i){if(0==s(".long-press-popup").length)return;e.preventDefault(),(t<0?g:v)()}),s(e).keyup(function(e){if(-1<c.indexOf(e.which))return;if(null==o)return;t=null,clearTimeout(n),n=null,w()}),y.prototype={init:function(){s(this.element).keydown(p)}},s.fn[i]=function(e){return this.each(function(){s.data(this,"plugin_"+i)||s.data(this,"plugin_"+i,new y(this,e))})}}(jQuery,window);